	19/08/2020
18. conteo de horas suplementarias - extras.

	25/08/2020
29. Metodo 2 Identificacion y calculo de horas extras

	26/08/2020
30. Metodo 2 reporte de horas extras.

	27/08/2020
34. Validaciones de configuracion de horas extras

*************************
28/08/2020
Agregar campo tiempo_autorizado (el empleador fija el tiempo que autoriza de la hora extra a pagar)
fijar tiempo a pagar por el empleador.
seleccionar cg_hora_extra de acuerdo a la jornada laboral y si es libre o no
*************

	28/08/2020
37. Revisión previa de los datos antes de registrarlos - plantilla de horarios del empleado

	07/08/2020
84.Contador de horas de permisos autorizados
85.Contador de días de vacaciones autorizados

**********/////////////////////////////////////////////////////

	APUNTES REVISION FULL TIME
sector publico quien autoriza

losep => aspectos adicionales en dias de vacaciones.
dias adicionales por trabajo de riesgo (algunos sitios) => canjear el tiempo laboral en dinero.

(importante)Caducidad de ingreso al sistema he inavilite al usuario toda su informacion

personalizar mensajes en notificaciones

carga masiva de datos.

**********/////////////////////////////////////////////////////








JefeDepaPadre.rows.forEach(obj => {

                if (obj.estado === true && obj.id_dep === correoInfoPidePermiso.rows[0].id_departamento && obj.id_suc === correoInfoPidePermiso.rows[0].id_sucursal){
                    var url = `${process.env.URL_DOMAIN}/ver-permiso`;
                    let id_departamento_autoriza = obj.id_dep;
                    let id_empleado_autoriza = obj.empleado;
                    let data = {
                        to: obj.correo,
                        from: email,
                        template: 'hola',
                        subject: 'Solicitud de permiso',
                        html: `<p><b>${correoInfoPidePermiso.rows[0].nombre} ${correoInfoPidePermiso.rows[0].apellido}</b> con número de
                        cédula ${correoInfoPidePermiso.rows[0].cedula} solicita autorización de permiso: </p>
                        <a href="${url}/${ultimo.rows[0].id}">Ir a verificar permisos</a>`
                    };
                    if (obj.permiso_mail === true && obj.permiso_noti === true) {
                        smtpTransport.sendMail(data, async (error: any, info: any) => {
                            if (error) {
                                console.log(error);
                            } else {
                                console.log('Email sent: ' + info.response);
                            }
                        });
                        res.jsonp({ message: 'Permiso se registró con éxito', notificacion: true, id: ultimo.rows[0].id, id_departamento_autoriza, id_empleado_autoriza, estado: ultimo.rows[0].estado });
                    } else if (obj.permiso_mail === true && obj.permiso_noti === false) {
                        smtpTransport.sendMail(data, async (error: any, info: any) => {
                            if (error) {
                                console.log(error);
                            } else {
                                console.log('Email sent: ' + info.response);    
                            }
                        });
                        res.jsonp({ message: 'Permiso se registró con éxito', notificacion: false, id: ultimo.rows[0].id, id_departamento_autoriza, id_empleado_autoriza, estado: ultimo.rows[0].estado });
                    } else if (obj.permiso_mail === false && obj.permiso_noti === true) {
                        res.jsonp({ message: 'Permiso se registró con éxito', notificacion: true, id: ultimo.rows[0].id, id_departamento_autoriza, id_empleado_autoriza, estado: ultimo.rows[0].estado });
                    } else if (obj.permiso_mail === false && obj.permiso_noti === false) {
                        res.jsonp({ message: 'Permiso se registró con éxito', notificacion: false, id: ultimo.rows[0].id, id_departamento_autoriza, id_empleado_autoriza, estado: ultimo.rows[0].estado });
                    }
                }
            });

