<mat-sidenav-container class="sidenav-container" id="style-1">

  <mat-sidenav #drawer class="sidenav mat-elevation-z15" fixedInViewport
    [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'" [mode]="(isHandset$ | async) ? 'over' : 'side'"
    [opened]="(isHandset$ | async) === false" (mouseenter)="mouseenter()" (mouseleave)="mouseleave()">

    <div class="uno">
      <img src="../../../assets/imagenes/logo/logoAdmin.png" id="logo">
    </div>

    <!-- MENU PARA ADMINISTRADORES -->

    <mat-accordion *ngIf="loginService.getRolMenu()">
      <!-- administración -->
      <mat-expansion-panel class="menus acordeon">
        <mat-expansion-panel-header class="selec1">
          <mat-panel-title>
            <mat-icon mat-list-icon class="color-icon">dashboard</mat-icon>
            <span class="item-menu">Administración</span>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-nav-list>
          <a mat-list-item [routerLink]="['/home']" class="texcol">
            <span matLine>Home</span>
          </a>
          <a mat-list-item [routerLink]="['/roles']" class="texcol">
            <span matLine>Crear Rol</span>
          </a>
          <a mat-list-item [routerLink]="['/listarFeriados']" class="texcol">
            <span matLine>Crear Feriados</span>
          </a>
          <a mat-list-item [routerLink]="['/listarRegimen']" class="texcol">
            <span matLine>Crear Régimen Laboral</span>
          </a>
          <a mat-list-item [routerLink]="['/titulos']" class="texcol">
            <span matLine>Crear Título Profesional</span>
          </a>
          <a mat-list-item [routerLink]="['/nivelTitulos']" class="texcol">
            <span matLine>Crear Nivel de Educación</span>
          </a>
        </mat-nav-list>
      </mat-expansion-panel>
      <!-- Empleado -->
      <mat-expansion-panel class="menus">
        <mat-expansion-panel-header class="selec2">
          <mat-panel-title class="item">
            <mat-icon mat-list-icon class="color-icon">account_circle</mat-icon>
            <span class="item-menu">Empleado</span>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-nav-list>
          <a mat-list-item [routerLink]="['/empleado']" class="texcol">
            <span matLine>Crear Empleado</span>
          </a>
        </mat-nav-list>
      </mat-expansion-panel>

      <!-- Almuerzo -->
      <mat-expansion-panel class="menus">
        <mat-expansion-panel-header class="selec3">
          <mat-panel-title class="item">
            <mat-icon mat-list-icon class="color-icon">local_dining</mat-icon>
            <span class="item-menu">Almuerzo</span>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-nav-list>
          <a mat-list-item [routerLink]="['/listarTipoComidas']" class="texcol">
            <span matLine>Tipo de Comidas</span>
          </a>
        </mat-nav-list>
      </mat-expansion-panel>

      <!-- Ubicación -->
      <mat-expansion-panel class="menus">
        <mat-expansion-panel-header class="selec5">
          <mat-panel-title class="item">
            <mat-icon mat-list-icon class="color-icon"> location_on</mat-icon>
            <span class="item-menu">Ubicación</span>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-nav-list>
          <a mat-list-item [routerLink]="['/provincia']" class="texcol">
            <span matLine>Registrar Provincia</span>
          </a>
          <a mat-list-item [routerLink]="['/listarCiudades']" class="texcol">
            <span matLine>Registrar Ciudad</span>
          </a>
          <a mat-list-item [routerLink]="['/empresa']" class="texcol">
            <span matLine>Registrar Empresa</span>
          </a>
          <a mat-list-item [routerLink]="['/sucursales']" class="texcol">
            <span matLine>Registrar Sucursal</span>
          </a>
          <a mat-list-item [routerLink]="['/departamento']" class="texcol">
            <span matLine>Crear Departamento</span>
          </a>
        </mat-nav-list>
      </mat-expansion-panel>

      <!-- Notificaciones -->
      <mat-expansion-panel class="menus">
        <mat-expansion-panel-header class="selec2">
          <mat-panel-title class="item">
            <mat-icon mat-list-icon class="color-icon">notifications</mat-icon>
            <span class="item-menu">Notificaciones</span>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-nav-list>
          <a mat-list-item [routerLink]="['/notificaciones']" class="texcol">
            <span matLine>Notificaciones</span>
          </a>
          <a mat-list-item [routerLink]="['/permisos-solicitados']" class="texcol">
            <span matLine>Permisos Solicitados</span>
          </a>
          <a mat-list-item [routerLink]="['/tipoPermisos']" class="texcol">
            <span matLine>Configurar Permisos</span>
          </a>
          <a mat-list-item [routerLink]="['/vacaciones-solicitados']" class="texcol">
            <span matLine>Vacaciones Solicitados</span>
          </a>
          <!-- <a mat-list-item [routerLink]="['/autorizaciones']" class="texcol">
            <span matLine>Autorizaciones</span>
          </a> -->
          <a mat-list-item [routerLink]="['/pedirHoraExtra']" class="texcol">
            <span matLine>Solicitar Hora Extra</span>
          </a>
        </mat-nav-list>
      </mat-expansion-panel>

      <!-- Dispositivos -->
      <mat-expansion-panel class="menus">
        <mat-expansion-panel-header class="selec6">
          <mat-panel-title class="item">
            <mat-icon mat-list-icon class="color-icon">schedule</mat-icon>
            <span class="item-menu">Dispositivos</span>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-nav-list>
          <a mat-list-item [routerLink]="['/enrolados']" class="texcol">
            <span matLine>Enrolar Empleado</span>
          </a>
          <a mat-list-item [routerLink]="['/listarRelojes']" class="texcol">
            <span matLine>Registrar Dispositivo</span>
          </a>
        </mat-nav-list>
      </mat-expansion-panel>

      <!-- Horarios -->
      <mat-expansion-panel class="menus">
        <mat-expansion-panel-header class="selec7">
          <mat-panel-title class="item">
            <mat-icon mat-list-icon class="color-icon">assignment</mat-icon>
            <span class="item-menu">Horarios</span>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-nav-list>
          <a mat-list-item [routerLink]="['/horario']" class="texcol">
            <span matLine>Crear Horario</span>
          </a>
          <a mat-list-item [routerLink]="['/horasExtras']" class="texcol">
            <span matLine>Configurar Horas Extras</span>
          </a>
          <a mat-list-item [routerLink]="['/planificacion']" class="texcol">
            <span matLine>Planificación Múltiple</span>
          </a>
          <a mat-list-item [routerLink]="['/calcularHoraExtra']" class="texcol">
            <span matLine>Calcular Hora Extra</span>
          </a>
        </mat-nav-list>
      </mat-expansion-panel>

      <!-- Timbres -->
      <mat-expansion-panel class="menus">
        <mat-expansion-panel-header class="selec9">
          <mat-panel-title class="item">
            <mat-icon mat-list-icon class="color-icon">fingerprint</mat-icon>
            <span class="item-menu">Timbres</span>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-nav-list>
          <a mat-list-item [routerLink]="['/timbres']" class="texcol">
            <span matLine>Timbres</span>
          </a>
          <a mat-list-item [routerLink]="['/asistencia']" class="texcol">
            <span matLine>Asistencia</span>
          </a>
        </mat-nav-list>
      </mat-expansion-panel>

      <!-- Acciones de Personal-->
      <mat-expansion-panel class="menus">
        <mat-expansion-panel-header class="selec8">
          <mat-panel-title class="item">
            <mat-icon mat-list-icon class="color-icon">how_to_reg</mat-icon>
            <span class="item-menu" id="accion">Acción de Personal</span>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-nav-list>
          <a mat-list-item [routerLink]="['/proceso']" class="texcol">
            <span matLine>Crear Proceso</span>
          </a>
        </mat-nav-list>
      </mat-expansion-panel>

    </mat-accordion>

    <!-- MENU PARA EMPLEADOS -->
    <mat-accordion *ngIf="!loginService.getRolMenu()">
      <mat-expansion-panel class="menus">
        <mat-expansion-panel-header class="selec8">
          <mat-panel-title class="item">
            <mat-icon mat-list-icon class="color-icon">dashboard</mat-icon>
            <span class="item-menu" id="accion">Menú</span>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-nav-list>
          <a mat-list-item [routerLink]="['/datosEmpleado']" class="texcol">
            <span matLine>Tus Datos</span>
          </a>
          <a mat-list-item [routerLink]="['/informacion']" class="texcol">
            <span matLine>Información</span>
          </a>
          <a mat-list-item [routerLink]="['/estadisticas']" class="texcol">
            <span matLine>Estadísticas</span>
          </a>
        </mat-nav-list>
      </mat-expansion-panel>
    </mat-accordion>
  </mat-sidenav>

  <mat-sidenav-content class="degradado">
    <mat-toolbar>
      <button type="button" aria-label="Toggle sidenav" mat-icon-button (click)="drawer.toggle()"
        *ngIf="isHandset$ | async">
        <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
      </button>

      <div id="avatar" *ngIf="mostrarImagen">
        <img src="{{urlImagen}}" alt="" id="avatarImagen">
      </div>
      <div id="avatar" *ngIf="mostrarIniciales">
        <span class="btn iniciales d-flex align-items-center justify-content-center">{{iniciales}}</span>
      </div>

      <div class="dos">
        <div class="card border-0" style="background-color: transparent; margin-top: auto;">
          <div class="card-body">
            <h3 class="card-title">{{UserName}}</h3>
            <p class="card-text" style="font-size: 13px;">{{UserEmail}}</p>
          </div>
        </div>
      </div>

      <form class="example-form">
        <mat-form-field class="example-full-width">
          <mat-icon matPrefix>search</mat-icon>
          <input type="text" placeholder="Buscar" aria-label="Number" matInput [formControl]="myControl"
            [matAutocomplete]="auto">
          <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
              {{option}}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
      </form>

      <!-- <span class="example-spacer">{{pestania}}</span> -->
      <span class="example-spacer"></span>
      <!-- <mat-icon>notifications_active</mat-icon>
      <mat-icon>notifications_none</mat-icon>
      <mat-icon>notifications_off</mat-icon>
      <mat-icon>notifications_paused</mat-icon> -->
      <button mat-mini-fab mat-icon-button [matMenuTriggerFor]="menu"
        (click)="numeroNotificacion()">
        <mat-icon id="iconos-navegador" [matBadgeHidden]="estadoNotificacion" matBadge="{{num_noti_false}}" matBadgeColor="warn"
        style="margin-left: 8px;">notifications</mat-icon>
      </button>
      <mat-menu #menu="matMenu" style="margin-right: 10px; height: 100px;">
        <div class="container" style="text-align: center;"><h4>Notificaciones</h4></div>
        <div *ngFor="let n of noti_real_time">
          <!-- Notificaicones con estilo para la visualizacion de los ADMINISTRADORES CON VISTO Y NO VISTO -->
          <div *ngIf="n.visto == true" style="background: rgb(226, 226, 226);">
            <a *ngIf="loginService.getRolMenu() && n.id_vacaciones === null" mat-menu-item [routerLink]="['/ver-permiso/', n.id_permiso]" target="_blank" class="noti_menu" (click)="CambiarVistaNotificacion(n.id)">
              <ul style="list-style: none; margin-left: -15%;">
                  <li style="font-size: 13px;"><b>{{n.nombre.split(' ')[0]}} {{n.apellido.split(' ')[0]}}</b> a solicitado un permiso</li> 
                  <li style="font-size: 11px; margin-top: -13%;"><b>Fecha:</b> {{n.create_at.split('T')[0]}} <b>Hora:</b> {{n.create_at.slice(11,16)}}</li> 
              </ul>
              <mat-divider class="divider"></mat-divider>
            </a>
            <a *ngIf="loginService.getRolMenu() && n.id_permiso === null" mat-menu-item [routerLink]="['/ver-vacacion/', n.id_vacaciones]" target="_blank" class="noti_menu" (click)="CambiarVistaNotificacion(n.id)">
              <ul style="list-style: none; margin-left: -15%;">
                  <li style="font-size: 13px;"><b>{{n.nombre.split(' ')[0]}} {{n.apellido.split(' ')[0]}}</b> a solicitado vacaciones</li> 
                  <li style="font-size: 11px; margin-top: -13%;"><b>Fecha:</b> {{n.create_at.split('T')[0]}} <b>Hora:</b> {{n.create_at.slice(11,16)}}</li> 
              </ul>
              <mat-divider class="divider"></mat-divider>
            </a>
          </div>
          <div *ngIf="n.visto == false" style="background: rgb(161, 161, 161);">
            <a *ngIf="loginService.getRolMenu() && n.id_vacaciones === null" mat-menu-item [routerLink]="['/ver-permiso/', n.id_permiso]" target="_blank" class="noti_menu" (click)="CambiarVistaNotificacion(n.id)">
              <ul style="list-style: none; margin-left: -15%;">
                  <li style="font-size: 13px;"><b>{{n.nombre.split(' ')[0]}} {{n.apellido.split(' ')[0]}}</b> a solicitado un permiso</li> 
                  <li style="font-size: 11px; margin-top: -13%;"><b>Fecha:</b> {{n.create_at.split('T')[0]}} <b>Hora:</b> {{n.create_at.slice(11,16)}}</li> 
              </ul>
              <mat-divider class="divider"></mat-divider>
            </a>
            <a *ngIf="loginService.getRolMenu() && n.id_permiso === null" mat-menu-item [routerLink]="['/ver-vacacion/', n.id_vacaciones]" target="_blank" class="noti_menu" (click)="CambiarVistaNotificacion(n.id)">
              <ul style="list-style: none; margin-left: -15%;">
                  <li style="font-size: 13px;"><b>{{n.nombre.split(' ')[0]}} {{n.apellido.split(' ')[0]}}</b> a solicitado vacaciones</li> 
                  <li style="font-size: 11px; margin-top: -13%;"><b>Fecha:</b> {{n.create_at.split('T')[0]}} <b>Hora:</b> {{n.create_at.slice(11,16)}}</li> 
              </ul>
              <mat-divider class="divider"></mat-divider>
            </a>
          </div>
          <!-- Notificaicones con estilo para la visualizacion de los EMPLEADOS CON VISTO Y NO VISTO-->
          <div *ngIf="n.visto == true" style="background: rgb(226, 226, 226);">
            <a *ngIf="!loginService.getRolMenu() && n.id_vacaciones === null" mat-menu-item [routerLink]="['/datosEmpleado']" target="_blank" class="noti_menu" (click)="CambiarVistaNotificacion(n.id)">
              <ul style="list-style: none; margin-left: -15%;">
                  <li style="font-size: 13px;"><b>{{n.nombre.split(' ')[0]}} {{n.apellido.split(' ')[0]}}</b> cambio estado de la</li> 
                  <li style="font-size: 13px; margin-top: -13%;">Solicitud permiso: {{n.estado}}</li> 
                  <li style="font-size: 11px; margin-top: -13%;"><b>Fecha:</b> {{n.create_at.split('T')[0]}} <b>Hora:</b> {{n.create_at.slice(11,16)}}</li> 
              </ul>
              <mat-divider class="divider"></mat-divider>
            </a>
            <a *ngIf="!loginService.getRolMenu() && n.id_permiso === null" mat-menu-item [routerLink]="['/datosEmpleado']" target="_blank" class="noti_menu" (click)="CambiarVistaNotificacion(n.id)">
              <ul style="list-style: none; margin-left: -15%;">
                  <li style="font-size: 13px;"><b>{{n.nombre.split(' ')[0]}} {{n.apellido.split(' ')[0]}}</b> cambio estado de la</li> 
                  <li style="font-size: 13px; margin-top: -13%;">Solicitud de vacaciones: {{n.estado}}</li> 
                  <li style="font-size: 11px; margin-top: -13%;"><b>Fecha:</b> {{n.create_at.split('T')[0]}} <b>Hora:</b> {{n.create_at.slice(11,16)}}</li> 
              </ul>
              <mat-divider class="divider"></mat-divider>
            </a>
          </div>          
          <div *ngIf="n.visto == false" style="background: rgb(161, 161, 161);">
            <a *ngIf="!loginService.getRolMenu() && n.id_vacaciones === null" mat-menu-item [routerLink]="['/datosEmpleado']" target="_blank" class="noti_menu" (click)="CambiarVistaNotificacion(n.id)">
              <ul style="list-style: none; margin-left: -15%;">
                  <li style="font-size: 13px;"><b>{{n.nombre.split(' ')[0]}} {{n.apellido.split(' ')[0]}}</b> cambio estado de la</li> 
                  <li style="font-size: 13px; margin-top: -13%;">Solicitud permiso: {{n.estado}}</li> 
                  <li style="font-size: 11px; margin-top: -13%;"><b>Fecha:</b> {{n.create_at.split('T')[0]}} <b>Hora:</b> {{n.create_at.slice(11,16)}}</li> 
              </ul>
              <mat-divider class="divider"></mat-divider>
            </a>
            <a *ngIf="!loginService.getRolMenu() && n.id_permiso === null" mat-menu-item [routerLink]="['/datosEmpleado']" target="_blank" class="noti_menu" (click)="CambiarVistaNotificacion(n.id)">
              <ul style="list-style: none; margin-left: -15%;">
                  <li style="font-size: 13px;"><b>{{n.nombre.split(' ')[0]}} {{n.apellido.split(' ')[0]}}</b> cambio estado de la</li> 
                  <li style="font-size: 13px; margin-top: -13%;">Solicitud de vacaciones: {{n.estado}}</li> 
                  <li style="font-size: 11px; margin-top: -13%;"><b>Fecha:</b> {{n.create_at.split('T')[0]}} <b>Hora:</b> {{n.create_at.slice(11,16)}}</li> 
              </ul>
              <mat-divider class="divider"></mat-divider>
            </a>
          </div> 
        </div>
      </mat-menu>

      <button mat-mini-fab>
        <mat-icon id="iconos-navegador" aria-hidden="false" matBadge="15" matBadgeColor="warn"
          style="margin-left: 8px;">person
        </mat-icon>
      </button>
      <button mat-mini-fab style="margin-left: 10px;" (click)="loginService.logout()">
        <mat-icon class="fas fa-sign-out-alt" id="iconos-navegador" style="margin-left: 8px;"></mat-icon>
      </button>
    </mat-toolbar>

    <div class="container">
      <div class="row">
        <div class="col">
          <router-outlet></router-outlet>
        </div>
      </div>
    </div>
  </mat-sidenav-content>
  <app-footer></app-footer>

</mat-sidenav-container>